# Global config
global:
  scrape_interval:     60s # Set the scrape interval to every 15 seconds. Default is every 1 minute.
  evaluation_interval: 60s # Evaluate rules every 15 seconds. The default is every 1 minute.
  scrape_timeout: 60s  # scrape_timeout is set to the global default (10s).

# Alertmanager configuration
alerting:
  alertmanagers:
  - basic_auth:
      username: admin
      password: JS5A4JdJUF!
    static_configs:
    - targets:
      - "ip-172-31-38-47.us-east-2.compute.internal:9093"

rule_files:
   - "rules/sample-rules.yaml"
   - "rules/ocp-default-rules.yaml"

scrape_configs:
  - job_name: 'prometheus'
    basic_auth:
      username: admin
      password: JS5A4JdJUF!
    # metrics_path defaults to '/metrics'
    # scheme defaults to 'http'.

    static_configs:
    - targets: ['ip-172-31-38-47.us-east-2.compute.internal:9090']
      labels:
        region: aws-us-east-2
        environment: prometheus

  - job_name: 'alertmanager'
    basic_auth:
      username: admin
      password: JS5A4JdJUF!
    static_configs:
    - targets:
      - "ip-172-31-38-47.us-east-2.compute.internal:9093"
      labels:
        region: aws-us-east-2
        environment: prometheus

  - job_name: 'osstest1'
    honor_labels: true
    metrics_path: '/federate'
    params:
      'match[]':
        - '{__name__=~".+"}'
        - '{__name__=~"^job:.*"}'
    authorization:
      type: Bearer
      credentials: eyJhbGciOiJSUzI1NiIsImtpZCI6IjBMZ3ZaT2NXLXlKaHJTeDZTODhSVWpaLVk1RHFDX2Y2MUdXeGFWZzNWbFkifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJvcGVuc2hpZnQtbW9uaXRvcmluZyIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJwcm9tZXRoZXVzLWs4cy10b2tlbi14N2JuNyIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJwcm9tZXRoZXVzLWs4cyIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjhhYjBkNTA5LTRkNWItNGUxYy04YzkzLTU1ZjY1NWFiNjdmNyIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpvcGVuc2hpZnQtbW9uaXRvcmluZzpwcm9tZXRoZXVzLWs4cyJ9.RDqOJCZ8CLL-YcxNhcQ38pERZ5wzAKg_iS4eaPXMh-swpCf2WOvDH2nx1x3Wvlie_FwymLwaKCpUtHNqduto2GLUCUv_MTK4LW-DAr4aF5V5P4eOSoLTUYn-WMSEmIMI-jC-hVsKhm-HKD1GEfRcygLjs_FMVXwZOtYmapc6yMYOd2VwTVRjDfLfAaCdxjxJKbnsCDorQIiVwTa_xjBmSnSk8u2xrgO1ngARtS1HC8mGSkfqwqxPd18Q7sO7r-ob8-sXHTBTQauqHc1A4P56dg_LyXCXt6b6mKfgWimCheXBidF0dBBlkCE6q7Z5I6rRO774zV2ALtCJQYl6pVgOsg
    scheme: https
    tls_config:
      insecure_skip_verify: true
    static_configs:
    - targets: ['prometheus-k8s-openshift-monitoring.apps.osstest1.uima.p1.openshiftapps.com']
      labels:
        team: sre-tooling
        clusterName: osstest1
